(this["webpackJsonpshop-abilotas"]=this["webpackJsonpshop-abilotas"]||[]).push([[0],{36:function(e,t,a){e.exports=a(64)},64:function(e,t,a){"use strict";a.r(t);var n=a(6),c=a(7),r=a(0),o=a.n(r),l=a(32),i=a.n(l),s=a(9),u=a(8),m=a(5);var p=function(e){var t=e.name,a=e.price,n=e.image,c=e.id;return o.a.createElement("div",{className:"card mx-auto mb-5",style:{width:"18rem"}},o.a.createElement("img",{src:"/spring-boot-starter"+n,className:"card-img-top",alt:"title"}),o.a.createElement("div",{className:"card-body text-center"},o.a.createElement("h5",{className:"card-title"},t),o.a.createElement("p",{className:"card-text"},a," EUR"),o.a.createElement(m.b,{to:"/products/".concat(c),className:"btn btn-primary"},"Details")))},d=a(3),h=a.n(d),E=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(n.a)(this,a),(e=t.call(this)).handleChange=function(t){t.preventDefault(),h.a.get("/spring-boot-starter/api/products?title=".concat(t.target.value)).then((function(t){e.setState({product:t.data})})).catch((function(e){console.log(e)}))},e.state={product:[]},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.a.get("/spring-boot-starter/api/products?title=").then((function(t){e.setState({product:t.data}),console.log(e.state)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return o.a.createElement("main",{className:"container pt-3"},o.a.createElement("div",{className:"row pb-3"},o.a.createElement("form",null,o.a.createElement("input",{className:"form-control",type:"text",onChange:this.handleChange}))),o.a.createElement("div",{className:"row"},this.state.product.map((function(e){return o.a.createElement(p,{name:e.title,price:e.price,image:e.image,id:e.id,key:e.id})}))))}}]),a}(r.Component),g=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,65)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),r(e),o(e)}))},b=(a(61),a(2)),v=Object(r.createContext)(null),f=a(34),y=a(35);var N=function(e){var t=e.count;return o.a.createElement(m.b,{to:"/cart",className:"btn btn-default"},o.a.createElement(f.a,{icon:y.a})," ",t," Items")},C=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var c;return Object(n.a)(this,a),(c=t.call(this,e)).state={productCount:e.ctx.userService.productCount,userService:e.ctx.userService},e.ctx.userService.updateCount=function(){return c.setState({productCount:c.state.userService.productCount})},e.ctx.userService.updateName=function(){return c.setState({name:c.state.userService.name})},c}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement(N,{count:this.state.productCount})}}]),a}(r.Component);var x=function(e){var t=Object(r.useContext)(v),a="";return o.a.createElement("div",null,o.a.createElement("header",{className:"container-fluid py-3",style:{backgroundColor:"#6495ED"}},o.a.createElement("div",{className:"row"},o.a.createElement("ul",{className:"nav"},o.a.createElement("li",{className:"nav-item"},o.a.createElement(m.b,{to:"/",className:"nav-link",style:{color:"black"}},"Home")),o.a.createElement("li",{className:"nav-item"},o.a.createElement(m.b,{to:"/admin",className:"nav-link",style:{color:"black"}},"Admin"))),o.a.createElement("div",{className:"col-2"},o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t.userService.name=a,t.userService.updateName(),h.a.get("/spring-boot-starter/api/users/".concat(a,"/cart-products")).then((function(e){t.userService.productCount=e.data.length,t.userService.updateCount()}))}},o.a.createElement("input",{className:"form-control",type:"text",name:"userName",onChange:function(e){e.preventDefault(),a=e.target.value}}))),o.a.createElement("div",{className:"col-8 text-right"},o.a.createElement(C,{ctx:t})))),e.children)};var S=function(e){var t=e.name,a=e.id,n=e.image,c=e.onRemove;return o.a.createElement("tr",null,o.a.createElement("th",{scope:"row"},a),o.a.createElement("td",null,o.a.createElement("img",{src:"/spring-boot-starter"+n,style:{width:"50px",height:"50px"},alt:""})),o.a.createElement("td",{className:"align-middle"},o.a.createElement(m.b,{to:"/admin/products/".concat(a)},t)),o.a.createElement("td",null,o.a.createElement("button",{className:"btn btn-danger",onClick:function(){return c(a)}},"Remove product")))},j=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(n.a)(this,a),(e=t.call(this)).removeItem=function(t){h.a.delete("/spring-boot-starter/api/products/".concat(t)).then((function(t){e.setState({product:t.data})})).catch((function(e){console.log(e)}))},e.state={product:[]},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.a.get("/spring-boot-starter/api/products").then((function(t){e.setState({product:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return o.a.createElement("main",{className:"container pt-3"},o.a.createElement("div",{className:"row pb-3"},o.a.createElement(m.b,{to:"/admin/products/new",className:"btn btn-primary"},"Add new product")),o.a.createElement("div",{className:"row"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{scope:"col"},"#"),o.a.createElement("th",{scope:"col"},"Image"),o.a.createElement("th",{scope:"col"},"Title"))),o.a.createElement("tbody",null,this.state.product.map((function(t){return o.a.createElement(S,{name:t.title,image:t.image,id:t.id,key:t.id,onRemove:e.removeItem})}))))))}}]),a}(r.Component);var O=function(e){var t=e.product,a=Object(r.useContext)(v);return o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-3 border"},o.a.createElement("img",{className:"mx-auto d-block img-fluid",src:"/spring-boot-starter"+t.image,alt:""})),o.a.createElement("div",{className:"col-9"},o.a.createElement("h3",null,t.title),o.a.createElement("h5",null,"Description:"),o.a.createElement("p",null,t.description),o.a.createElement("b",null,"Price: ")," ",o.a.createElement("i",null,t.price)," EUR",o.a.createElement("br",null),o.a.createElement("p",null,"Quantity in stock: ",t.quantity),o.a.createElement("button",{className:"btn btn-primary mr-3",onClick:function(e){e.preventDefault(),console.log(a.userService.name),console.log("praejo if"),h.a.post("/spring-boot-starter/api/users/".concat(a.userService.name,"/cart-products"),{title:t.title,image:t.image,id:t.id,description:t.description,price:t.price,quantity:t.quantity}).then((function(e){a.userService.productCount=e.data.length,a.userService.updateCount(),console.log(e)})).catch((function(e){console.log(e)}))}},"Add to cart"),o.a.createElement(m.b,{to:"/",className:"btn btn-default border"},"Back")))},k=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(n.a)(this,a),(e=t.call(this)).state={product:{}},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.a.get("/spring-boot-starter/api/products/".concat(this.props.match.params.id)).then((function(t){e.setState({product:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return o.a.createElement("main",{className:"container pt-5"},o.a.createElement(O,{product:this.state.product}))}}]),a}(r.Component),q=a(16),w=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(n.a)(this,a),(e=t.call(this)).handleChange=function(t){e.setState(Object(q.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),console.log(e.state),h.a.post("/spring-boot-starter/api/products",e.state).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},e.state={title:"",image:"",description:"",price:0,quantity:0},e}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("main",{className:"container pt-5"},o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"title"},o.a.createElement("b",null,"Title")),o.a.createElement("input",{name:"title",type:"text",className:"form-control",value:this.state.title,onChange:this.handleChange})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"image"},o.a.createElement("b",null,"Image URL")),o.a.createElement("input",{name:"image",type:"text",className:"form-control",value:this.state.image,onChange:this.handleChange})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"description"},o.a.createElement("b",null,"Description")),o.a.createElement("input",{name:"description",type:"text",className:"form-control",value:this.state.description,onChange:this.handleChange})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"price"},o.a.createElement("b",null,"Price")),o.a.createElement("input",{name:"price",type:"text",className:"form-control",value:this.state.price,onChange:this.handleChange})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"quantity"},o.a.createElement("b",null,"Quantity")),o.a.createElement("input",{name:"quantity",type:"text",className:"form-control",value:this.state.quantity,onChange:this.handleChange})),o.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit")))}}]),a}(r.Component),D=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(n.a)(this,a),(e=t.call(this)).handleChange=function(t){e.setState(Object(q.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),console.log(e.state),h.a.put("/spring-boot-starter/api/products/".concat(e.props.match.params.id),e.state).then((function(t){console.log(t),e.props.history.push("/admin/products")})).catch((function(e){console.log(e)}))},e.state={title:"",image:"",description:"",price:0,quantity:0},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.a.get("/spring-boot-starter/api/products/".concat(this.props.match.params.id)).then((function(t){e.setState({title:t.data.title,image:t.data.image,description:t.data.description,price:t.data.price,quantity:t.data.quantity})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return o.a.createElement("main",{className:"container pt-5"},o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"title"},o.a.createElement("b",null,"Title")),o.a.createElement("input",{name:"title",type:"text",className:"form-control",value:this.state.title,onChange:this.handleChange})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"image"},o.a.createElement("b",null,"Image URL")),o.a.createElement("input",{name:"image",type:"text",className:"form-control",value:this.state.image,onChange:this.handleChange})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"description"},o.a.createElement("b",null,"Description")),o.a.createElement("input",{name:"description",type:"text",className:"form-control",value:this.state.description,onChange:this.handleChange})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"price"},o.a.createElement("b",null,"Price")),o.a.createElement("input",{name:"price",type:"text",className:"form-control",value:this.state.price,onChange:this.handleChange})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"quantity"},o.a.createElement("b",null,"Quantity")),o.a.createElement("input",{name:"quantity",type:"text",className:"form-control",value:this.state.quantity,onChange:this.handleChange})),o.a.createElement("button",{type:"submit",className:"btn btn-primary mr-4"},"Save"),o.a.createElement(m.b,{to:"/admin/products",className:"btn btn-default border"},"Cancel")))}}]),a}(r.Component);var F=function(e){var t=e.image,a=e.name,n=e.id,c=e.onRemove,r=e.quantity,l=e.quantityInCart,i=e.quantityChange,s=e.price;return o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("img",{src:"/spring-boot-starter"+t,style:{width:"50px",height:"50px"},alt:""})),o.a.createElement("td",{className:"align-middle"},a),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",type:"number",min:"1",max:r,value:l,onChange:function(e){return i(n,e)}})),o.a.createElement("td",null,s),o.a.createElement("td",null,s*l),o.a.createElement("td",null,o.a.createElement("button",{className:"btn btn-danger",onClick:function(){return c(n)}},"Remove from cart")))},I=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(n.a)(this,a),(e=t.call(this)).removeItem=function(t){var a=e.context.userService.name;h.a.delete("/spring-boot-starter/api/users/".concat(a,"/cart-products/").concat(t)).then((function(t){e.setState({products:t.data}),e.context.userService.productCount=t.data.length,e.context.userService.updateCount(),console.log(e.state)})).catch((function(e){console.log(e)}))},e.quantityChange=function(t,a){var n=a.target.value,c=e.context.userService.name;h.a.put("/spring-boot-starter/api/users/".concat(c,"/cart-products/").concat(t,"?quantity=").concat(n)).then((function(t){e.setState({products:t.data})})).catch((function(e){console.log(e)}))},e.state={products:[]},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.context.userService.name;t.length>0&&h.a.get("/spring-boot-starter/api/users/".concat(t,"/cart-products")).then((function(t){e.setState({products:t.data}),console.log(e.state.products)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return o.a.createElement("main",{className:"container pt-5"},o.a.createElement("div",{className:"row"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{scope:"col"},"Picture"),o.a.createElement("th",{scope:"col"},"Title"),o.a.createElement("th",{scope:"col"},"Quantity in cart"),o.a.createElement("th",{scope:"col"},"price/1pcs"),o.a.createElement("th",{scope:"col"},"total price"),o.a.createElement("th",{scope:"col"},"action"))),o.a.createElement("tbody",null,this.state.products.map((function(t){return o.a.createElement(F,{name:t.title,image:t.image,key:t.id,id:t.id,quantity:t.quantity,quantityInCart:t.quantityInCart,price:t.price,quantityChange:e.quantityChange,userName:e.context.userName,onRemove:e.removeItem})})),o.a.createElement("tr",null,o.a.createElement("td",{colspan:"4"}),o.a.createElement("td",null,o.a.createElement("b",null,"Total amount: ",this.state.products.reduce((function(e,t){return e+t.price*t.quantityInCart}),0))))))))}}]),a}(r.Component);I.contextType=v;var R=new(function(){function e(){Object(n.a)(this,e),this.updateCount=function(){},this.updateName=function(){},this._name="",this._productCount=0}return Object(c.a)(e,[{key:"name",get:function(){return this._name},set:function(e){this._name=e,this.updateName()}},{key:"productCount",get:function(){return this._productCount},set:function(e){this._productCount=e,this.updateCount()}}]),e}());i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(m.a,{basename:"/spring-boot-starter"},o.a.createElement(v.Provider,{value:{userService:R}},o.a.createElement(x,null),o.a.createElement(b.c,null,o.a.createElement(b.a,{exact:!0,path:"/",component:E}),o.a.createElement(b.a,{exact:!0,path:"/products",component:E}),o.a.createElement(b.a,{exact:!0,path:"/products/:id",component:k}),o.a.createElement(b.a,{exact:!0,path:"/admin",component:j}),o.a.createElement(b.a,{exact:!0,path:"/admin/products",component:j}),o.a.createElement(b.a,{exact:!0,path:"/admin/products/new",component:w}),o.a.createElement(b.a,{exact:!0,path:"/admin/products/:id",component:D}),o.a.createElement(b.a,{exact:!0,path:"/cart",component:I}),o.a.createElement(b.a,{path:"*",component:function(e){return o.a.createElement("div",null,"Route did not match",o.a.createElement("br",null),o.a.createElement("button",{onClick:function(){return e.history.push("/")}},"Go Home"))}}))))),document.getElementById("root")),g()}},[[36,1,2]]]);
//# sourceMappingURL=main.d02862df.chunk.js.map